<partial title="Add to playlist" ng-controller="addToModalController">
    <div class="modal-header">
        <h3>Add this track to a playlist!</h3>
    </div>
    <div class="modal-view-content">
        <div class="playlists">
            <div ng-repeat="p in playlists" ng-controller="addToModalPlaylistController">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" ng-model="p.selected">
                        {{p.title}}
                    </label>
                </div>
            </div>
        </div>
        <div class="new-playlist-container">
            <h6 ng-show="playlists.length !== 0">Or create a new playlist for this track:</h6>
            <h6 ng-show="playlists.length === 0">Add a new playlist title and hit Return:</h6>
            <form ng-submit="addToNewPlaylist()" name="form">
                <span class="val-message" ng-if="form.title.$error.serverError">{{form.title.$error.serverError}}</span>
                <div class="input-group" ng-class="{'has-error': form.title.$invalid && form.title.$dirty}">
                    <input class="form-control" type="text" name="title" required ng-model="newPlaylist" placeholder="playlist title" />
                    <span class="input-group-btn">
                        <button type="submit" class="btn btn-default">
                            <i class="fa fa-save"></i>
                        </button>
                    </span>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer">
        <a class="btn btn-success" ng-click="$dismiss()">Cancel</a>
    </div>
</partial>